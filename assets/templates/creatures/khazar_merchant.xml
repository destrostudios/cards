<template>
    <values>
        <maximumManaCost>3</maximumManaCost>
    </values>
    <entity>
        <name>Khazar Merchant</name>
        <creatureCard/>
        <attack>2</attack>
        <health>2</health>
        <description>Cast: Draw a spell from your deck that costs ([maximumManaCost]) or less.</description>
        <spells>
            <entity>
                <condition>source.isInHand</condition>
                <manaCost>3</manaCost>
                <instantEffectTriggers>
                    <entity>
                        <effects>
                            <entity template="../effects/add_source_to_board"/>
                            <entity>
                                <targetChains>
                                    <entity>
                                        <targetChain>
                                            <entity>
                                                <targetPrefilter>LIBRARY</targetPrefilter>
                                                <targetAll>target.isAlly(source) &amp;&amp; target.isSpellCard &amp;&amp; target.manaCost &lt;= [maximumManaCost]</targetAll>
                                            </entity>
                                            <entity>
                                                <targetRandom>1</targetRandom>
                                            </entity>
                                        </targetChain>
                                    </entity>
                                </targetChains>
                                <addToHand/>
                            </entity>
                        </effects>
                    </entity>
                </instantEffectTriggers>
            </entity>
            <entity template="./templates/simple_attack"/>
        </spells>
    </entity>
</template>